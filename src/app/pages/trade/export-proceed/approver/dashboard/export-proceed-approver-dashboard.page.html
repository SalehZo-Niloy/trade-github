<app-trade-layout
  organisationName="Trade Platform"
  solutionName="Trade Finance"
  breadcrumb="Dashboard"
  basePath="/trade"
>
  <!-- Stats Cards -->
  <div class="grid gap-4 md:grid-cols-4 mb-6">
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase">Total Proceeds</p>
          <p class="text-2xl font-bold text-gray-900 mt-1">{{ stats.total }}</p>
        </div>
        <div class="p-3 rounded-full bg-blue-50 text-blue-600">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
        </div>
      </div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase">Realized</p>
          <p class="text-2xl font-bold text-green-600 mt-1">{{ stats.realized }}</p>
        </div>
        <div class="p-3 rounded-full bg-green-50 text-green-600">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
        </div>
      </div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase">Pending Action</p>
          <p class="text-2xl font-bold text-orange-600 mt-1">{{ stats.pendingAction }}</p>
        </div>
        <div class="p-3 rounded-full bg-orange-50 text-orange-600">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
        </div>
      </div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase">Discrepancies</p>
          <p class="text-2xl font-bold text-red-600 mt-1">{{ stats.discrepancies }}</p>
        </div>
        <div class="p-3 rounded-full bg-red-50 text-red-600">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
        </div>
      </div>
    </div>
  </div>

  <!-- List Section -->
  <div class="rounded-xl border border-slate-200 bg-white shadow-sm">
    <div class="flex items-center justify-between border-b border-slate-200 px-6 py-4">
      <h2 class="text-lg font-semibold text-slate-900">Proceeds Realization List</h2>
      <div class="w-72">
        <input 
          type="text" 
          placeholder="Search by ID or Ref..." 
          [(ngModel)]="searchTerm"
          class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"
        >
      </div>
    </div>
    
    <div class="overflow-x-auto">
      <table class="w-full text-left text-sm text-slate-600">
        <thead class="bg-slate-50 text-xs uppercase text-slate-500">
          <tr>
            <th class="px-6 py-3 font-semibold">Proceed ID</th>
            <th class="px-6 py-3 font-semibold">Customer</th>
            <th class="px-6 py-3 font-semibold">Ref (LC/Bill)</th>
            <th class="px-6 py-3 font-semibold">Amount</th>
            <th class="px-6 py-3 font-semibold">Status</th>
            <!-- <th class="px-6 py-3 font-semibold text-right">Action</th> -->
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-200">
          <tr
            *ngFor="let p of filteredProceeds"
            class="hover:bg-slate-50 cursor-pointer"
            [routerLink]="['/trade/export-proceed/approver/request', p.id]"
          >
            <td class="px-6 py-4 font-medium text-blue-700">
              <span class="hover:underline">
                {{ p.id }}
              </span>
            </td>
            <td class="px-6 py-4 text-slate-900">{{ p.customer }}</td>
            <td class="px-6 py-4">
              <div class="flex flex-col">
                <span class="text-slate-900">{{ p.refBill }}</span>
                <span class="text-xs text-slate-400">{{ p.refLC }}</span>
              </div>
            </td>
            <td class="px-6 py-4 font-bold text-slate-900">{{ p.currency }} {{ p.amount | number:'1.2-2' }}</td>
            <td class="px-6 py-4">
              <span [class]="'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ' + getStatusClass(p.status)">
                {{ formatStatus(p.status) }}
              </span>
            </td>
            <!-- <td class="px-6 py-4 text-right">
              <a [routerLink]="['/trade/export-proceed/approver/request', p.id]" class="inline-flex items-center text-slate-400 hover:text-blue-600 transition-colors" title="View Details">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 5.057-5.064 8-9.542 8-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
              </a>
            </td> -->
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</app-trade-layout>
