<app-trade-layout
  organisationName="Trade Finance Operations"
  solutionName="Guarantee Officer"
  breadcrumb="Guarantee Amendment Review"
  basePath="/trade"
>
  <div class="space-y-6">
    <section class="rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 text-[11px] text-blue-100 shadow-sm">
      <div class="grid gap-4 md:grid-cols-6">
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Amendment Request ID
          </div>
          <div class="text-sm font-semibold text-white">
            AMD-2024-00789
          </div>
        </div>
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Original Guarantee Ref
          </div>
          <div class="text-sm font-semibold text-white">
            GTR-2024-001234
          </div>
        </div>
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Guarantee Type
          </div>
          <div class="text-sm font-semibold text-white">
            Performance Guarantee
          </div>
        </div>
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Original Amount
          </div>
          <div class="text-sm font-semibold text-white">
            AED 500,000
          </div>
        </div>
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Submitted By
          </div>
          <div class="text-sm font-semibold text-white">
            Al Khaleej Trading LLC
          </div>
        </div>
        <div class="space-y-1">
          <div class="font-semibold uppercase tracking-wide">
            Submission Date
          </div>
          <div class="text-sm font-semibold text-white">
            15-Jan-2024 14:32
          </div>
        </div>
      </div>
    </section>

    <section class="grid gap-6 lg:grid-cols-[2.4fr,1.1fr]">
      <div class="space-y-5">
        <section class="rounded-2xl border border-slate-200 bg-white p-5 text-xs shadow-sm">
          <div class="flex items-center justify-between gap-3">
            <div class="flex items-center gap-2">
              <div class="flex h-8 w-8 items-center justify-center rounded-full bg-emerald-50 text-emerald-700">
                ✓
              </div>
              <div>
                <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                  Original Active Guarantee
                </div>
                <div class="text-sm font-semibold text-slate-900">
                  Before Amendment
                </div>
              </div>
            </div>
            <span class="inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-[11px] font-semibold text-emerald-700">
              Active
            </span>
          </div>
          <div class="mt-4 grid gap-4 md:grid-cols-3">
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Guarantee Reference
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                GTR-2024-001234
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Original Amount
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                AED 500,000
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Original Expiry Date
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                31-Dec-2024
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Original Claim Period
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                30 Days
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Governing Rules
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                URDG 758
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Beneficiary
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                Emirates Construction LLC
              </div>
            </div>
          </div>
        </section>

        <section class="rounded-2xl border border-slate-200 bg-white p-5 text-xs shadow-sm">
          <div class="flex items-center gap-3">
            <div class="flex h-8 w-8 items-center justify-center rounded-full bg-violet-100 text-violet-700">
              ☰
            </div>
            <div>
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Requested Amendment Overview
              </div>
              <div class="mt-1 text-sm font-semibold text-slate-900">
                Amendment Type Selection
              </div>
            </div>
          </div>
          <div class="mt-4 grid gap-3 md:grid-cols-2">
            <div class="flex items-center justify-between rounded-lg border border-emerald-400 bg-emerald-50 px-4 py-3">
              <div class="text-sm font-semibold text-emerald-900">
                Amount Increase
              </div>
              <span
                class="rounded-full bg-emerald-500 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-white"
              >
                Selected
              </span>
            </div>
            <div class="flex items-center justify-between rounded-lg border border-emerald-400 bg-emerald-50 px-4 py-3">
              <div class="text-sm font-semibold text-emerald-900">
                Expiry Date Extension
              </div>
              <span
                class="rounded-full bg-emerald-500 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-white"
              >
                Selected
              </span>
            </div>
            <div class="flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-4 py-3">
              <div class="text-sm font-semibold text-slate-700">
                Claim Period Change
              </div>
              <span
                class="rounded-full bg-slate-200 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-slate-700"
              >
                Not Selected
              </span>
            </div>
            <div class="flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-4 py-3">
              <div class="text-sm font-semibold text-slate-700">
                Beneficiary Change
              </div>
              <span
                class="rounded-full bg-slate-200 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-slate-700"
              >
                Not Selected
              </span>
            </div>
            <div
              class="flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 md:col-span-2"
            >
              <div class="text-sm font-semibold text-slate-700">
                Guarantee Text Amendment
              </div>
              <span
                class="rounded-full bg-slate-200 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-slate-700"
              >
                Not Selected
              </span>
            </div>
          </div>
        </section>

        <section class="rounded-2xl border border-amber-200 bg-amber-50 p-5 text-xs shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="text-sm font-semibold text-amber-900">
              Amendment Details (Delta View)
            </h2>
          </div>
          <div class="mt-4 overflow-x-auto">
            <table class="min-w-full text-left text-[11px]">
              <thead class="bg-amber-100 text-amber-800">
                <tr class="uppercase tracking-wide">
                  <th class="px-4 py-2">Field</th>
                  <th class="px-4 py-2">Original Value</th>
                  <th class="px-4 py-2">Revised Value</th>
                  <th class="px-4 py-2">Change</th>
                </tr>
              </thead>
              <tbody class="bg-white">
                <tr class="bg-emerald-50">
                  <td class="px-4 py-2 font-semibold text-slate-900">
                    Guarantee Amount
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    AED 500,000
                  </td>
                  <td class="px-4 py-2 font-semibold text-emerald-700">
                    AED 750,000
                  </td>
                  <td class="px-4 py-2">
                    <span
                      class="inline-flex items-center rounded-full bg-emerald-500 px-3 py-1 text-[11px] font-semibold text-white"
                    >
                      ↑ 50% Increase
                    </span>
                  </td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="px-4 py-2 font-semibold text-slate-900">
                    Expiry Date
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    31-Dec-2024
                  </td>
                  <td class="px-4 py-2 font-semibold text-blue-700">
                    30-Jun-2025
                  </td>
                  <td class="px-4 py-2">
                    <span
                      class="inline-flex items-center rounded-full bg-blue-600 px-3 py-1 text-[11px] font-semibold text-white"
                    >
                      + 6 Months Extension
                    </span>
                  </td>
                </tr>
                <tr class="border-t border-slate-100">
                  <td class="px-4 py-2 font-semibold text-slate-900">
                    Claim Period
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    30 Days
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    30 Days
                  </td>
                  <td class="px-4 py-2">
                    <span
                      class="inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-[11px] font-semibold text-slate-700"
                    >
                      No Change
                    </span>
                  </td>
                </tr>
                <tr class="border-t border-slate-100">
                  <td class="px-4 py-2 font-semibold text-slate-900">
                    Beneficiary
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    Emirates Construction LLC
                  </td>
                  <td class="px-4 py-2 text-slate-700">
                    Emirates Construction LLC
                  </td>
                  <td class="px-4 py-2">
                    <span
                      class="inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-[11px] font-semibold text-slate-700"
                    >
                      No Change
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section class="rounded-2xl border border-slate-200 bg-white p-5 text-xs shadow-sm">
          <h2 class="text-sm font-semibold text-slate-900">
            Financial Impact Summary
          </h2>
          <div class="mt-4 grid gap-4 md:grid-cols-4">
            <div class="space-y-1 rounded-xl border border-slate-200 bg-blue-50 p-4">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-600">
                Additional Margin Required
              </div>
              <div class="text-lg font-semibold text-slate-900">
                AED 25,000
              </div>
            </div>
            <div class="space-y-1 rounded-xl border border-slate-200 bg-emerald-50 p-4">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-600">
                Revised Commission
              </div>
              <div class="text-lg font-semibold text-slate-900">
                AED 3,750
              </div>
            </div>
            <div class="space-y-1 rounded-xl border border-slate-200 bg-amber-50 p-4">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-600">
                Amendment Fee
              </div>
              <div class="text-lg font-semibold text-slate-900">
                AED 500
              </div>
            </div>
            <div class="space-y-1 rounded-xl border border-slate-200 bg-violet-50 p-4">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-600">
                SWIFT MT767 Charges
              </div>
              <div class="text-lg font-semibold text-slate-900">
                AED 250
              </div>
            </div>
          </div>
          <div
            class="mt-4 flex items-center justify-between rounded-xl bg-violet-600 px-5 py-4 text-[11px] font-semibold text-white"
          >
            <div class="uppercase tracking-wide text-violet-100">
              Total Additional Charges
            </div>
            <div class="text-xl">
              AED 29,500
            </div>
          </div>
          <div
            class="mt-3 flex items-center gap-2 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800"
          >
            <span class="h-1.5 w-1.5 rounded-full bg-amber-500"></span>
            <span>Final charges subject to approval and policy validation.</span>
          </div>
        </section>

        <section class="rounded-2xl border border-slate-200 bg-white p-5 text-xs shadow-sm">
          <h2 class="text-sm font-semibold text-slate-900">
            SWIFT Amendment Requirement
          </h2>
          <div class="mt-4 grid gap-4 md:grid-cols-3">
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                SWIFT Required
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                Yes
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                SWIFT Message Type
              </div>
              <div class="rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900">
                MT767
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
                Status
              </div>
              <div class="rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-sm font-semibold text-amber-800">
                Pending Creation
              </div>
            </div>
          </div>
          <div class="mt-4 flex flex-wrap items-center justify-between gap-3">
            <p class="text-[11px] text-slate-600">
              SWIFT MT767 must be prepared for all approved guarantee amendments before escalation.
            </p>
            <button
              type="button"
              class="inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-[11px] font-semibold text-white hover:bg-blue-700"
              (click)="goToSwiftAmendment()"
            >
              Create SWIFT Amendment (MT767)
            </button>
          </div>
        </section>
      </div>

      <section class="space-y-4">
        <section class="rounded-2xl border border-slate-200 bg-white p-5 text-xs shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="text-sm font-semibold text-slate-900">
              Review &amp; Validation
            </h2>
            <span class="inline-flex items-center rounded-full bg-blue-50 px-3 py-1 text-[11px] font-semibold text-blue-700">
              Officer Review
            </span>
          </div>
          <div class="mt-4 space-y-3 text-[11px] text-slate-700">
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Amendment request is complete</span>
            </label>
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Amendment within approved limit</span>
            </label>
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Financial impact acceptable</span>
            </label>
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Required documents uploaded</span>
            </label>
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Amendment complies with product rules</span>
            </label>
            <label class="flex items-start gap-2">
              <input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded border-slate-300 text-blue-600" />
              <span>Guarantee text compliant (if amended)</span>
            </label>
          </div>
          <div class="mt-4 space-y-1">
            <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
              Officer Review Notes
            </div>
            <textarea
              rows="4"
              class="mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
              placeholder="Enter deficiency notes or approval reasoning"
            ></textarea>
          </div>
          <div class="mt-4 space-y-2">
            <div class="text-[11px] font-semibold uppercase tracking-wide text-slate-500">
              Final Decision
            </div>
            <div class="space-y-2">
              <label class="flex items-center gap-2 text-[11px]">
                <input type="radio" name="decision" class="h-3.5 w-3.5 border-slate-300 text-blue-600" />
                <span>Send back to customer for correction</span>
              </label>
              <label class="flex items-center gap-2 text-[11px]">
                <input type="radio" name="decision" class="h-3.5 w-3.5 border-slate-300 text-blue-600" />
                <span>Approve amendment request</span>
              </label>
            </div>
          </div>
          <div class="mt-4 flex flex-wrap items-center justify-between gap-3">
            <button
              type="button"
              class="inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-2 text-[11px] font-semibold text-slate-700 hover:bg-slate-50"
              (click)="goBackToDashboard()"
            >
              ← Back to Dashboard
            </button>
            <button
              type="button"
              class="inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-[11px] font-semibold text-white hover:bg-blue-700"
              (click)="submitReview()"
            >
              Submit Review
            </button>
          </div>
        </section>
      </section>
    </section>
  </div>
</app-trade-layout>
